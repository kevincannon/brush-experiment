<!-- Tutorial: https://www.youtube.com/watch?v=lCxcTsOHrjo -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        let rounding = false;
        let shadowing = false;
        let mouseDown = false;
        let startX;

        const roundingClasses = [
          "rounded-none",
          "rounded-sm",
          "rounded",
          "rounded-md",
          "rounded-lg",
          "rounded-xl",
          "rounded-2xl",
          "rounded-3xl",
          "rounded-full",
        ];

        const shadowClasses = [
          "shadow-none",
          "shadow-sm",
          "shadow",
          "shadow-md",
          "shadow-lg",
          "shadow-xl",
          "shadow-2xl",
        ];

        $("#rounder").click(function (e) {
          rounding = !rounding;
          $(this).toggleClass(" ring-4", rounding);
          // $(this).toggleClass("simple", !rounding);
        });

        $("#shadow-toggle").click(function (e) {
          shadowing = !shadowing;
          $(this).toggleClass("ring-4", shadowing);
          // $(this).toggleClass("simple", !shadowing);
        });

        $("#preview *:not(script, style, iframe)").click(function (e) {
          e.stopPropagation();
          if (rounding) {
            updateClass($(this), 1, roundingClasses);
          } else if (shadowing) {
            updateClass($(this), 1, shadowClasses);
          }
        });

        $("#preview *:not(script, style, iframe)").on(
          "contextmenu",
          function (e) {
            e.stopPropagation();
            e.preventDefault();
            if (rounding) {
              updateClass($(this), -1, roundingClasses);
            } else if (shadowing) {
              updateClass($(this), -1, shadowClasses);
            }
          }
        );

        function updateClass(element, direction, classList) {
          let currentClass = classList.find((cls) => element.hasClass(cls));
          let currentIndex = classList.indexOf(currentClass);
          let nextIndex = currentIndex + direction;

          if (nextIndex >= classList.length) {
            nextIndex = classList.length - 1;
          } else if (nextIndex < 0) {
            nextIndex = 0;
          }

          element.removeClass(classList.join(" "));
          element.addClass(classList[nextIndex]);
        }
      });
    </script>
  </head>

  <body class="p-10 bg-slate-100 select-none">
    <div id="toolbar m-4">
      <button
        id="rounder"
        class="bg-gray-700 text-white simple py-2 px-4 rounded"
      >
        Rounder
      </button>

      <button
        id="shadow-toggle"
        class="bg-gray-700 text-white py-2 px-4 rounded"
      >
        Shadows
      </button>
    </div>

    <div id="preview">
      <div class="mt-8">
        <div class="p-4 bg-gray-200 mb-4" style="width: 100px; height: 100px">
          Box 1
        </div>
        <div class="p-4 bg-gray-200 mb-4" style="width: 100px; height: 100px">
          Box 2
        </div>
        <div class="p-4 bg-gray-200" style="width: 100px; height: 100px">
          Box 3
        </div>
      </div>

      <div class="container px-10 shadow-md bg-white p-6 rounded-md">
        <!-- Buttons -->
        <div class="flex justify-between gap-4">
          <button
            class="h-10 px-6 font-semibold rounded-md bg-black text-white"
            type="submit"
          >
            Buy
          </button>
          <button
            class="h-10 px-6 font-semibold rounded-md border bg-white border-slate-200 text-slate-900"
            type="button"
          >
            Close
          </button>
          <button
            class="h-10 px-6 font-semibold rounded-md border bg-white border-slate-200 text-slate-900"
            type="button"
          >
            Yay!
          </button>
        </div>

        <div
          class="aspect-h-3 aspect-w-2 overflow-hidden rounded-lg w-40 m-6 bg-gray-100 sm:col-span-4 lg:col-span-5"
        >
          <img
            src="https://source.unsplash.com/random?iguana"
            class="object-cover object-center"
          />
        </div>

        <div
          class="aspect-h-3 aspect-w-2 overflow-hidden rounded-lg w-40 m-6 bg-gray-100 sm:col-span-4 lg:col-span-5"
        >
          <img
            src="https://source.unsplash.com/random?iguana?f"
            class="object-cover object-center"
          />
        </div>

        <div
          class="aspect-h-3 aspect-w-2 overflow-hidden rounded-lg w-40 m-6 bg-gray-100 sm:col-span-4 lg:col-span-5"
        >
          <img
            src="https://source.unsplash.com/random?iguana?s"
            class="object-cover object-center"
          />
        </div>
      </div>
    </div>
  </body>
</html>
